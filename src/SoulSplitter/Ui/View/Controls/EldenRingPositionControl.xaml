<!-- This file is part of the SoulSplitter distribution (https://github.com/FrankvdStam/SoulSplitter).
     Copyright (c) 2022 Frank van der Stam.
     https://github.com/FrankvdStam/SoulSplitter/blob/main/LICENSE
     
     This program is free software: you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation, version 3.
     
     This program is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
     General Public License for more details.
     
     You should have received a copy of the GNU General Public License
     along with this program. If not, see<http://www.gnu.org/licenses/> .  -->
    
<UserControl x:Class="SoulSplitter.Ui.View.Controls.EldenRingPositionControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:validation="clr-namespace:SoulSplitter.Ui.Validation"
             mc:Ignorable="d">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <!-- Material design -->
                <materialDesign:BundledTheme BaseTheme="Light" PrimaryColor="Indigo" SecondaryColor="Indigo" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesign3.Defaults.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <!-- Position -->
    <StackPanel
        Orientation="Horizontal">
        <TextBox 
            Width="35"
            Height="25"
            Margin="0,0,0,0"
            materialDesign:HintAssist.Hint="Area"
            materialDesign:HintAssist.HelperText="{Binding CurrentEldenRingPosition.Area, RelativeSource={RelativeSource AncestorType=UserControl}}">
            <TextBox.Text>
                <Binding Path="EldenRingPositionViewModel.Position.Area" RelativeSource="{RelativeSource AncestorType=UserControl}">
                    <Binding.ValidationRules>
                        <validation:TextToNumberValidation NumericType="Byte" IsRequired="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>

        <TextBox 
            Width="35"
            Height="25"
            Margin="5,0,0,0"
            materialDesign:HintAssist.Hint="Block"
            materialDesign:HintAssist.HelperText="{Binding CurrentEldenRingPosition.Block, RelativeSource={RelativeSource AncestorType=UserControl}}">
            <TextBox.Text>
                <Binding Path="EldenRingPositionViewModel.Position.Block" RelativeSource="{RelativeSource AncestorType=UserControl}">
                    <Binding.ValidationRules>
                        <validation:TextToNumberValidation NumericType="Byte" IsRequired="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>

        <TextBox 
            Width="35"
            Height="25"
            Margin="5,0,0,0"
            materialDesign:HintAssist.Hint="Region"
            materialDesign:HintAssist.HelperText="{Binding CurrentEldenRingPosition.Region, RelativeSource={RelativeSource AncestorType=UserControl}}">
            <TextBox.Text>
                <Binding Path="EldenRingPositionViewModel.Position.Region" RelativeSource="{RelativeSource AncestorType=UserControl}">
                    <Binding.ValidationRules>
                        <validation:TextToNumberValidation NumericType="Byte" IsRequired="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>

        <TextBox 
            Width="35"
            Height="25"
            Margin="5,0,0,0"
            materialDesign:HintAssist.Hint="Size"
            materialDesign:HintAssist.HelperText="{Binding CurrentEldenRingPosition.Size, RelativeSource={RelativeSource AncestorType=UserControl}}">
            <TextBox.Text>
                <Binding Path="EldenRingPositionViewModel.Position.Size" RelativeSource="{RelativeSource AncestorType=UserControl}">
                    <Binding.ValidationRules>
                        <validation:TextToNumberValidation NumericType="Byte" IsRequired="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>

        <TextBox 
            Width="50"
            Height="25"
            Margin="5,0,0,0"
            materialDesign:HintAssist.Hint="x"
            materialDesign:HintAssist.HelperText="{Binding CurrentEldenRingPosition.X, RelativeSource={RelativeSource AncestorType=UserControl}}">
            <TextBox.Text>
                <Binding Path="EldenRingPositionViewModel.Position.X" RelativeSource="{RelativeSource AncestorType=UserControl}">
                    <Binding.ValidationRules>
                        <validation:TextToNumberValidation NumericType="Float" IsRequired="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>

        <TextBox 
            Width="50"
            Height="25"
            Margin="5,0,0,0"
            materialDesign:HintAssist.Hint="y"
            materialDesign:HintAssist.HelperText="{Binding CurrentEldenRingPosition.Y, RelativeSource={RelativeSource AncestorType=UserControl}}">
            <TextBox.Text>
                <Binding Path="EldenRingPositionViewModel.Position.Y" RelativeSource="{RelativeSource AncestorType=UserControl}">
                    <Binding.ValidationRules>
                        <validation:TextToNumberValidation NumericType="Float" IsRequired="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>

        <TextBox 
            Width="50"
            Height="25"
            Margin="5,0,0,0"
            materialDesign:HintAssist.Hint="z"
            materialDesign:HintAssist.HelperText="{Binding CurrentEldenRingPosition.Z, RelativeSource={RelativeSource AncestorType=UserControl}}">
            <TextBox.Text>
                <Binding Path="EldenRingPositionViewModel.Position.Z" RelativeSource="{RelativeSource AncestorType=UserControl}">
                    <Binding.ValidationRules>
                        <validation:TextToNumberValidation NumericType="Float" IsRequired="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>

        <TextBox 
            Width="50"
            Height="25"
            Margin="5,0,0,0"
            materialDesign:HintAssist.Hint="Box size"
            ToolTip="This size determines the box in which the position split will trigger">
            <TextBox.Text>
                <Binding Path="EldenRingPositionViewModel.Size" RelativeSource="{RelativeSource AncestorType=UserControl}">
                    <Binding.ValidationRules>
                        <validation:TextToNumberValidation NumericType="Float" IsRequired="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>

        <Button
            Margin="300, 5, 0, 0"
            HorizontalAlignment="Left"
            Style="{StaticResource MaterialDesignFloatingActionMiniDarkButton}"
            ToolTip="Read current game position"
            Command="{Binding CopyCurrentPositionCommand, RelativeSource={RelativeSource AncestorType=UserControl}}">
            <materialDesign:PackIcon
                Kind="CrosshairsGps"
                Height="30"
                Width="30" />
        </Button>
    </StackPanel>
</UserControl>
